# –û—Ç—á–µ—Ç –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –ø—Ä–æ–µ–∫—Ç–∞ –¥–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è (Production Ready)

–í–∞—à –ø—Ä–æ–µ–∫—Ç `Mining Pipeline` —É–∂–µ –æ–±–ª–∞–¥–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ–π –±–∞–∑–æ–π: —á–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (SOLID), –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏. –û–¥–Ω–∞–∫–æ –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –æ–Ω —Å—á–∏—Ç–∞–ª—Å—è –Ω–∞—Å—Ç–æ—è—â–∏–º **Production-Ready** —Ä–µ—à–µ–Ω–∏–µ–º, –µ–º—É –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç "–∏–Ω–∂–µ–Ω–µ—Ä–Ω–æ–π –æ–±–≤—è–∑–∫–∏" ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—â–∏—Ö –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å.

–ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –ø–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞–∑–±–æ—Ä —Ç–æ–≥–æ, —á—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å.

---

## 1. üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (Testing)
**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç. –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–±–µ–ª –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.

### –ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å:
1.  **Unit Tests (–ú–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã):**
    *   –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `tests/`.
    *   –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `pytest` –∫–∞–∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç –∏–Ω–¥—É—Å—Ç—Ä–∏–∏.
    *   –ü–æ–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç–∞–º–∏ –∫–ª—é—á–µ–≤—É—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É: —Ä–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫ –≤ `MiningMetricsCalculator`, –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö –≤ `MiningDataAnalyzer`.
    *   –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `unittest.mock` –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ –æ—Ç —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –∏ S3.
2.  **Integration Tests (–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã):**
    *   –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Pipeline` -> `DataLoader` -> `MetricsCalculator`).
    *   –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º (–∏–ª–∏ —ç–º—É–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —á–µ—Ä–µ–∑ `moto` –¥–ª—è S3) —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º.
3.  **Test Coverage:**
    *   –ü–æ–¥–∫–ª—é—á–∏—Ç—å `pytest-cov` –¥–ª—è –æ—Ç—á–µ—Ç–∞ –æ –ø–æ–∫—Ä—ã—Ç–∏–∏ –∫–æ–¥–∞ —Ç–µ—Å—Ç–∞–º–∏. –¶–µ–ª—å > 80%.

**–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:**
```
tests/
‚îú‚îÄ‚îÄ unit/
‚îÇ   ‚îú‚îÄ‚îÄ test_metrics_calculator.py
‚îÇ   ‚îî‚îÄ‚îÄ test_data_generator.py
‚îú‚îÄ‚îÄ integration/
‚îÇ   ‚îî‚îÄ‚îÄ test_pipeline_flow.py
‚îî‚îÄ‚îÄ conftest.py  # –§–∏–∫—Å—Ç—É—Ä—ã
```

---

## 2. üõ°Ô∏è –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞ –∏ –õ–∏–Ω—Ç–∏–Ω–≥ (Code Quality)
**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** –ö–æ–¥ –≤—ã–≥–ª—è–¥–∏—Ç —á–∏—Å—Ç—ã–º, –Ω–æ –Ω–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è —Å—Ç–∏–ª–∏—Å—Ç–∏–∫–∏.

### –ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å:
1.  **Type Checking (Mypy):**
    *   –°—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤. –°–æ–∑–¥–∞—Ç—å `mypy.ini` –∏–ª–∏ —Å–µ–∫—Ü–∏—é –≤ `pyproject.toml`.
    *   –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –±–∞–≥–æ–≤ –Ω–∞ —ç—Ç–∞–ø–µ –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–æ–¥–∞.
2.  **Linting (Ruff / Flake8):**
    *   `Ruff` ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π, –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ –±—ã—Å—Ç—Ä—ã–π –ª–∏–Ω—Ç–µ—Ä, –∑–∞–º–µ–Ω—è—é—â–∏–π flake8, isort –∏ pydocstyle.
    *   –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ PEP8, –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∏–º–ø–æ—Ä—Ç–æ–≤ –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞.
3.  **Formatting (Black / Ruff):**
    *   –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞. "No arguments about style".

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `pyproject.toml` –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞.

---

## 3. ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∏ CI/CD
**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫.

### –ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å:
1.  **GitHub Actions (–∏–ª–∏ GitLab CI):**
    *   –ù–∞—Å—Ç—Ä–æ–∏—Ç—å workflow `.github/workflows/ci.yml`.
    *   **–ü—Ä–∏ –∫–∞–∂–¥–æ–º –ø—É—à–µ:** –∑–∞–ø—É—Å–∫–∞—Ç—å –ª–∏–Ω—Ç–µ—Ä—ã, —Ç–µ—Å—Ç—ã –∏ –ø—Ä–æ–≤–µ—Ä–∫—É —Ç–∏–ø–æ–≤.
    *   **–ü—Ä–∏ —Ä–µ–ª–∏–∑–µ:** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞—Ç—å Docker-–æ–±—Ä–∞–∑ –∏ –ø—É—à–∏—Ç—å –≤ registry.
2.  **Pre-commit hooks:**
    *   –î–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª `.pre-commit-config.yaml`.
    *   –≠—Ç–æ –Ω–µ –¥–∞—Å—Ç –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∫–æ–¥, –µ—Å–ª–∏ –æ–Ω –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ (black, flake8, mypy).

---

## 4. üê≥ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è (Containerization)
**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ `python pipeline.py` –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏.

### –ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å:
1.  **Dockerfile:**
    *   Multi-stage build –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –æ–±—Ä–∞–∑–∞.
    *   –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `non-root` –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.
    *   –§–∏–∫—Å–∞—Ü–∏—è –≤–µ—Ä—Å–∏–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
2.  **docker-compose.yml:**
    *   –î–ª—è –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ–≥–æ –ø–∞–π–ø–ª–∞–π–Ω–∞ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π.
    *   –£–¥–æ–±–Ω–æ –¥–ª—è –ø–æ–¥–Ω—è—Ç–∏—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–µ—Å–ª–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –±—É–¥—É—â–µ–º –¥–æ–±–∞–≤–∏—Ç–µ –ë–î).

**–ü—Ä–∏–º–µ—Ä Dockerfile:**
```dockerfile
FROM python:3.10-slim-buster as builder
WORKDIR /app
COPY requirements.txt .
RUN pip install --user -r requirements.txt

FROM python:3.10-slim-buster
WORKDIR /app
COPY --from=builder /root/.local /root/.local
COPY . .
ENV PATH=/root/.local/bin:$PATH
CMD ["python", "pipeline.py"]
```

---

## 5. üì¶ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** `requirements.txt`. –≠—Ç–æ –ø—Ä–æ—Å—Ç–æ, –Ω–æ –Ω–µ –≤—Å–µ–≥–¥–∞ –Ω–∞–¥–µ–∂–Ω–æ (–Ω–µ—Ç —Ö–µ—à–µ–π, —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–µ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã –∂–µ—Å—Ç–∫–æ).

### –ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å:
1.  **Poetry (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
    *   –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–∫–µ—Ç–∞–º–∏.
    *   –§–∞–π–ª `pyproject.toml` –∑–∞–º–µ–Ω—è–µ—Ç `requirements.txt`, `setup.cfg`, `MANIFEST.in`.
    *   –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å –±–∏–ª–¥–æ–≤ —á–µ—Ä–µ–∑ `poetry.lock`.
    *   –£–¥–æ–±–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ dev-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (—Ç–µ—Å—Ç—ã, –ª–∏–Ω—Ç–µ—Ä—ã) –∏ prod-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

---

## 6. üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** –•–æ—Ä–æ—à–∏–π README –∏ docstrings.

### –ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å:
1.  **Sphinx / MkDocs:**
    *   –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ —Å–∞–π—Ç–∞ —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π –∏–∑ docstrings.
    *   –†–∞–∑–º–µ—Å—Ç–∏—Ç—å –Ω–∞ GitHub Pages.
2.  **CHANGELOG.md:**
    *   –í–µ–¥–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π (Keep a Changelog).
3.  **Makefile:**
    *   –§–∞–π–ª –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è —Ä—É—Ç–∏–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥. –í–º–µ—Å—Ç–æ –¥–ª–∏–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏ –≤—ã –ø–∏—à–µ—Ç–µ `make test`, `make lint`, `make run`.

**–ü—Ä–∏–º–µ—Ä Makefile:**
```makefile
test:
	pytest tests/ --cov=src

lint:
	ruff check .
	mypy .

run:
	python pipeline.py
```

---

## 7. üö® –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** –ë–∞–∑–æ–≤–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –µ—Å—Ç—å.

### –ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å:
1.  **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (JSON logs):**
    *   –î–ª—è —É–¥–æ–±–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –ª–æ–≥–æ–≤ –≤ —Å–∏—Å—Ç–µ–º—ã —Ç–∏–ø–∞ ELK/Loki (–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ `structlog`).
2.  **Sentry:**
    *   –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Sentry –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.
3.  **Custom Exceptions:**
    *   –°–æ–∑–¥–∞—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—é —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π –≤ `exceptions.py` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `MiningDataError`, `S3UploadError`) –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ç–æ–∫–æ–º –æ—à–∏–±–æ–∫.

---

## üèóÔ∏è –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (Roadmap)

–Ø –ø—Ä–µ–¥–ª–∞–≥–∞—é –≤–Ω–µ–¥—Ä—è—Ç—å —É–ª—É—á—à–µ–Ω–∏—è –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Ä—è–¥–∫–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ—Å—Ç–∏:

1.  **High Priority:**
    *   –í–Ω–µ–¥—Ä–µ–Ω–∏–µ **Poetry** (–∏–ª–∏ —É–ª—É—á—à–µ–Ω–∏–µ requirements).
    *   –ù–∞—Å—Ç—Ä–æ–π–∫–∞ **Linting/Formatting** (`pyproject.toml`).
    *   –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤—ã—Ö **Unit-—Ç–µ—Å—Ç–æ–≤**.

2.  **Medium Priority:**
    *   **Dockerfile** –∏ **docker-compose**.
    *   **GitHub Actions** (CI).
    *   **Makefile**.

3.  **Low Priority (Polishing):**
    *   Pre-commit hooks.
    *   Sphinx –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è.
    *   Sentry/Structlog.
